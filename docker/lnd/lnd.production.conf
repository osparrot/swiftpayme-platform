# Lightning Network Daemon (LND) Production Configuration
# Optimized for SwiftPayMe Platform

[Application Options]
# Daemon settings
debuglevel=info
maxlogfiles=5
maxlogfilesize=100
logdir=/root/.lnd/logs

# Network settings
listen=0.0.0.0:9735
externalip=0.0.0.0
nat=false

# RPC settings
rpclisten=0.0.0.0:10009
restlisten=0.0.0.0:8080
tlsextradomain=lnd
tlsextraip=0.0.0.0

# Performance settings
numgraphsyncpeers=5
historicalsyncinterval=20m
ignore-historical-gossip-filters=1
stagger-initial-reconnect=true
max-cltv-expiry=5000
max-outstanding-payments=1000

# Channel settings
default-remote-max-htlcs=483
max-channel-size=16777215
wumbo-channels=true
protocol.wumbo-channels=true

# Payment settings
accept-keysend=true
accept-amp=true
allow-circular-route=true
assume-chan-valid=true

# Fee settings
bitcoin.basefee=1000
bitcoin.feerate=1
bitcoin.timelockdelta=40
bitcoin.minhtlc=1000
bitcoin.maxhtlc=990000000

# Routing settings
routing.assumechanvalid=true
routing.strictgraphpruning=true

# Autopilot settings (disabled for manual channel management)
autopilot.active=false
autopilot.maxchannels=5
autopilot.allocation=0.6
autopilot.minchansize=20000
autopilot.maxchansize=16777215
autopilot.private=false
autopilot.minconfs=1
autopilot.conftarget=3

# Watchtower settings
wtclient.active=true
wtclient.private-tower-uris=

# Database settings
db.backend=etcd
db.etcd.host=127.0.0.1:2379
db.etcd.user=
db.etcd.pass=
db.etcd.cert_file=
db.etcd.key_file=
db.etcd.ca_file=
db.etcd.insecure_skip_verify=false

# Recovery settings
recovery-window=2500
recovery-window-extended=true

# Invoice settings
gc-canceled-invoices-on-startup=true
gc-canceled-invoices-on-the-fly=true

# Peer settings
maxpendingchannels=10
max-commit-fee-rate-anchors=10

# Security settings
tor.active=false
tor.socks=9050
tor.dns=socks5://127.0.0.1:9050

# Healthcheck settings
healthcheck-interval=30s
healthcheck-timeout=5s
healthcheck-backoff-threshold=3

# Prometheus metrics
prometheus.enable=true
prometheus.listen=0.0.0.0:8989

[Bitcoin]
bitcoin.active=true
bitcoin.mainnet=true
bitcoin.testnet=false
bitcoin.simnet=false
bitcoin.regtest=false
bitcoin.node=bitcoind

[Bitcoind]
bitcoind.rpchost=bitcoin-core:8332
bitcoind.rpcuser=bitcoin
bitcoind.rpcpass=password
bitcoind.zmqpubrawblock=tcp://bitcoin-core:28332
bitcoind.zmqpubrawtx=tcp://bitcoin-core:28333
bitcoind.estimatemode=ECONOMICAL

[Neutrino]
neutrino.connect=
neutrino.maxpeers=8
neutrino.banduration=20s
neutrino.banthreshold=6

[Btcd]
btcd.rpchost=
btcd.rpcuser=
btcd.rpcpass=
btcd.rpccert=

[Litecoin]
litecoin.active=false

[Ltcd]
ltcd.rpchost=
ltcd.rpcuser=
ltcd.rpcpass=
ltcd.rpccert=

[Litecoind]
litecoind.rpchost=
litecoind.rpcuser=
litecoind.rpcpass=
litecoind.zmqpubrawblock=
litecoind.zmqpubrawtx=

[Hodl]
hodl.exit-settle=false

[Protocol]
protocol.wumbo-channels=true
protocol.no-anchors=false
protocol.script-enforced-lease=false

[Cluster]
cluster.enable-leader-election=false
cluster.leader-elector=etcd
cluster.etcd-election-prefix=lnd-cluster

[Rpc]
rpc.no-macaroons=false
rpc.middleware.enable=true

[Routerrpc]
routerrpc.minrtprob=0.005
routerrpc.apriorihopprob=0.6
routerrpc.aprioriweight=0.75
routerrpc.penaltyhalflife=6h0m0s
routerrpc.attemptcost=100
routerrpc.attemptcostppm=1000
routerrpc.maxmchistory=1000

[Workers]
workers.read=16
workers.write=8
workers.sig=8

[Caches]
caches.reject-cache-size=50000
caches.channel-cache-size=20000

[Bolt]
bolt.nofreelistsync=true
bolt.auto-compact=true
bolt.auto-compact-min-age=168h

[Etcd]
etcd.embedded=false
etcd.host=127.0.0.1:2379
etcd.user=
etcd.pass=
etcd.namespace=lnd
etcd.disabletls=true
etcd.cert_file=
etcd.key_file=
etcd.ca_file=
etcd.insecure_skip_verify=false

[Postgres]
postgres.dsn=
postgres.timeout=5s
postgres.maxconnections=50

[Healthcheck]
healthcheck.chainbackend.interval=30s
healthcheck.chainbackend.timeout=5s
healthcheck.chainbackend.backoffthreshold=3
healthcheck.chainbackend.attempts=3
healthcheck.diskspace.interval=6h
healthcheck.diskspace.timeout=5s
healthcheck.diskspace.backoffthreshold=3
healthcheck.diskspace.attempts=3
healthcheck.diskspace.requiredremaining=0.1
healthcheck.tls.interval=1m
healthcheck.tls.timeout=5s
healthcheck.tls.backoffthreshold=3
healthcheck.tls.attempts=3

[Signrpc]
signrpc.signermacaroonpath=

[Walletrpc]
walletrpc.walletmacaroonpath=

[Chainrpc]
chainrpc.chainmacaroonpath=

[Invoicesrpc]
invoicesrpc.invoicemacaroonpath=

[Routerrpc]
routerrpc.routermacaroonpath=

[Watchtowerrpc]
watchtowerrpc.watchtowermacaroonpath=

[Wtclientrpc]
wtclientrpc.wtclientmacaroonpath=

[Peersrpc]
peersrpc.peersmacaroonpath=

[Verrpc]
verrpc.vermacaroonpath=

[Neutrinorpc]
neutrinorpc.neutrinomacaroonpath=
